import{d as M,r as a,o as h,c as G,w as m,a as l,u as p,_ as J,b as v,e as d,T as P,f as W,g as K,h as F,i as Q,j as X,t as Z,k as ee,n as te,F as H,l as b,E as V,m as ne,p as oe}from"./vendor.d9868b2b.js";const le=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}};le();const se="char-dust",re="0.1.0",ie="convert image to ascii",ue="dist/index.js",ce="dist/index.d.ts",ae="dist/index.mjs",de={".":{require:"./dist/index.js",import:"./dist/index.mjs"}},_e=["char","ascii"],pe=["dist"],me={build:"tsup","build:demo":"cd demo && npm run build",dev:"cd demo && npm run dev",lint:'eslint "**/*.{vue,ts,js}"',prepublishOnly:"npm run build"},he={name:"YunYouJun",url:"https://www.yunyoujun.cn",email:"me@yunyoujun.cn"},fe={url:"https://github.com/YunYouJun/char-dust/",type:"git"},ve="MIT",ge={"@ctrl/tinycolor":"^3.4.0"},xe={"@antfu/eslint-config":"^0.16.1","@types/node":"^17.0.18",eslint:"^8.9.0","lint-staged":"^12.3.4",tsup:"^5.11.13",typescript:"^4.5.5",yorkie:"^2.0.0"},ye={"pre-commit":"lint-staged"};var E={name:se,version:re,description:ie,main:ue,types:ce,module:ae,exports:de,keywords:_e,files:pe,scripts:me,author:he,repository:fe,license:ve,dependencies:ge,devDependencies:xe,gitHooks:ye,"lint-staged":{"*.{vue,ts}":["eslint --fix"]}};const we=M({setup(n){const e={name:"Char Dust",repo:E.name,author:E.author.name,logo:"ri:character-recognition-line",link:"https://github.com/YunYouJun/char-dust",color:"black"};return(o,s)=>{const t=a("el-footer");return h(),G(t,null,{default:m(()=>[l(p(J),{copyright:e})]),_:1})}}}),Ce={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Fe=d("path",{fill:"currentColor",d:"M1 14.5a6.496 6.496 0 0 1 3.064-5.519a8.001 8.001 0 0 1 15.872 0a6.5 6.5 0 0 1-2.936 12L7 21c-3.356-.274-6-3.078-6-6.5zm15.848 4.487a4.5 4.5 0 0 0 2.03-8.309l-.807-.503l-.12-.942a6.001 6.001 0 0 0-11.903 0l-.12.942l-.805.503a4.5 4.5 0 0 0 2.029 8.309l.173.013h9.35l.173-.013zM13 13v4h-2v-4H8l4-5l4 5h-3z"},null,-1),$e=[Fe];function Ve(n,e){return h(),v("svg",Ce,$e)}var Ee={name:"ri-upload-cloud-line",render:Ve};const be={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Ae=d("path",{fill:"currentColor",d:"M15 3h6v5h-2V5h-4V3zM9 3v2H5v3H3V3h6zm6 18v-2h4v-3h2v5h-6zm-6 0H3v-5h2v3h4v2zM3 11h18v2H3v-2z"},null,-1),ze=[Ae];function Be(n,e){return h(),v("svg",be,ze)}var Me={name:"ri-qr-scan2-line",render:Be};const He=6,ke=12,A="@#&$%863!i1uazvno~;*^+-. ";function Ie(n,e=A){const o=255/e.length;let s=Math.floor(n/o);return s>=e.length&&(s=e.length-1),e[s]}function De(n,e=A){const o=n.data,s=n.width,t=n.height,r=[];for(let c=0;c<t;c+=ke){let g="";for(let x=0;x<s;x+=He){const y=(x+s*c)*4,$=new P({r:o[y],g:o[y+1],b:o[y+2]});g+=Ie($.getBrightness(),e)}r.push(g)}return r}function je(n){let e;if(document)e=document.createElement("canvas");else if(require("canvas")){const{createCanvas:r}=require("canvas");e=r(n.width,n.height)}else{console.warn("If you use it in Node.js without document, you need `npm install canvas`.");return}const o=e.getContext("2d"),s=n.width/n.naturalWidth;return e.width=n.width,e.height=n.height,o.scale(s,s),o.drawImage(n,0,0),o.getImageData(0,0,n.width,n.height)}const B={PNG:/image\/png/,JPG:/image\/jpe?g/,GIF:/image\/gif/};function Le(n){for(const e in B)if(B[e].test(n))return!0;return!1}const Te=d("hr",null,null,-1),Re=d("br",null,null,-1),Ye={class:"flex h-full flex-col justify-center items-center"},Ne=d("div",{class:"el-upload__text",m:"t-2"},[b(" \u5C06\u6587\u4EF6\u62D6\u5230\u6B64\u5904\uFF0C\u6216"),d("em",null,"\u70B9\u51FB\u4E0A\u4F20")],-1),Ue={class:"el-upload__tip"},Oe=["src"],Se=M({setup(n){const e=W({size:300,char:A,scale:100}),o=K("--cd-text-color"),s=F(50),t=F(),r=["jpg","png","gif"],c=F(""),g=F(),x=Q(()=>({width:`${100/(e.scale/100)}%`,transformOrigin:"left top",transform:`scale(${e.scale/100})`}));function y(){!t.value||z(t.value)}function $(){if(!t.value){V.warning("\u8BF7\u5148\u4E0A\u4F20\u56FE\u7247\uFF5E");return}const u=je(t.value),i=De(u,e.char);c.value=i.join(`
`),console.log(i),V.success("\u8F6C\u5316\u5B8C\u6210")}function D(u){u&&(L(u),g.value.clearFiles())}function j(u){return Le(u.type)?!0:(V.error(`\u76EE\u524D\u53EA\u652F\u6301 ${r.join("/")} \u683C\u5F0F\u7684\u6587\u4EF6`),!1)}function L(u){const i=new FileReader;i.readAsDataURL(u.raw),i.onload=_=>{t.value=new Image,t.value.onload=()=>{t.value&&z(t.value)},_.target&&(t.value.src=_.target.result)}}function z(u){const i=document.querySelector(".el-upload-dragger");let _=e.size;!_&&u.width&&(_=u.width);const w=u.width/_,C=u.height/w;u.width=_,u.height=C,i.style.width=`${_}px`,i.style.height=`${C}px`}return(u,i)=>{const _=a("el-input-number"),w=a("el-form-item"),C=a("el-input"),T=Me,R=a("el-icon"),Y=a("el-button"),N=a("el-form"),U=a("el-color-picker"),O=Ee,S=a("el-upload"),q=a("el-slider");return h(),v(H,null,[l(N,{inline:!0,model:p(e)},{default:m(()=>[l(w,{label:"\u56FE\u7247\u5927\u5C0F"},{default:m(()=>[l(_,{modelValue:p(e).size,"onUpdate:modelValue":i[0]||(i[0]=f=>p(e).size=f),min:0,step:s.value,label:"\u56FE\u7247\u5927\u5C0F",onChange:y},null,8,["modelValue","step"])]),_:1}),l(w,{label:"\u8F6C\u6362\u5B57\u7B26"},{default:m(()=>[l(C,{modelValue:p(e).char,"onUpdate:modelValue":i[1]||(i[1]=f=>p(e).char=f),placeholder:"\u8F6C\u6362\u5B57\u7B26"},null,8,["modelValue"])]),_:1}),l(w,null,{default:m(()=>[l(Y,{type:"primary",circle:"",title:"\u8F6C\u6362",onClick:$},{default:m(()=>[l(R,null,{default:m(()=>[l(T)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),d("div",null,[l(U,{modelValue:p(o),"onUpdate:modelValue":i[2]||(i[2]=f=>X(o)?o.value=f:null)},null,8,["modelValue"])]),Te,Re,l(S,{ref_key:"imageUploadRef",ref:g,drag:"",action:"/",limit:1,accept:"image/*","auto-upload":!1,"on-change":D,"before-upload":j},{default:m(()=>[d("div",Ye,[l(O,{text:"5xl"}),Ne,d("div",Ue," \u53EA\u80FD\u4E0A\u4F20 "+Z(r.join("/"))+" \u6587\u4EF6\uFF0C\u4E14\u5C3D\u91CF\u4E0D\u8981\u8FC7\u5927 ",1)]),t.value?(h(),v("img",{key:0,class:"preview-image",src:t.value.src},null,8,Oe)):ee("",!0)]),_:1},512),l(q,{modelValue:p(e).scale,"onUpdate:modelValue":i[3]||(i[3]=f=>p(e).scale=f),"show-input":""},null,8,["modelValue"]),l(C,{modelValue:c.value,"onUpdate:modelValue":i[4]||(i[4]=f=>c.value=f),class:"cd-text-container",type:"textarea",autosize:"",placeholder:"ASCII \u753B",style:te(p(x))},null,8,["modelValue","style"])],64)}}}),qe={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Ge=d("path",{fill:"currentColor",d:"M21 8v12.993A1 1 0 0 1 20.007 22H3.993A.993.993 0 0 1 3 21.008V2.992C3 2.455 3.449 2 4.002 2h10.995L21 8zm-2 1h-5V4H5v16h14V9zM8 7h3v2H8V7zm0 4h8v2H8v-2zm0 4h8v2H8v-2z"},null,-1),Je=[Ge];function Pe(n,e){return h(),v("svg",qe,Je)}var We={name:"ri-file-text-line",render:Pe};const Ke={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Qe=d("path",{fill:"currentColor",d:"m16.172 11l-5.364-5.364l1.414-1.414L20 12l-7.778 7.778l-1.414-1.414L16.172 13H4v-2z"},null,-1),Xe=[Qe];function Ze(n,e){return h(),v("svg",Ke,Xe)}var et={name:"ri-arrow-right-line",render:Ze};const tt={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},nt=d("path",{fill:"currentColor",d:"m4.828 21l-.02.02l-.021-.02H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H4.828zM20 15V5H4v14L14 9l6 6zm0 2.828l-6-6L6.828 19H20v-1.172zM8 11a2 2 0 1 1 0-4a2 2 0 0 1 0 4z"},null,-1),ot=[nt];function lt(n,e){return h(),v("svg",tt,ot)}var st={name:"ri-image-line",render:lt},k=(n,e)=>{const o=n.__vccOpts||n;for(const[s,t]of e)o[s]=t;return o};const rt={},it={text:"3xl"},ut=b(" \xA0 "),ct=b(" \xA0 ");function at(n,e){const o=st,s=et,t=We;return h(),v("h2",it,[l(o),ut,l(s),ct,l(t)])}var dt=k(rt,[["render",at]]);const _t={};function pt(n,e){const o=dt,s=a("el-header"),t=Se,r=a("el-main"),c=we;return h(),v(H,null,[l(s,null,{default:m(()=>[l(o)]),_:1}),l(r,null,{default:m(()=>[l(t)]),_:1}),l(c)],64)}var mt=k(_t,[["render",pt]]);console.log(`%c Char-Dust v${E.version} %c @YunYouJun `,"background-color:#111111;color:white;padding:5px;","padding:4px;border:1px solid black;");const I=ne(mt);I.use(oe);I.mount("#app");
